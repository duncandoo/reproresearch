Goal of reproresearch
================================
The goal of this project is to provide a sample RStudio project that integrates R with Latex using make. Using these tools together, it is possible to create reproducible research with the click of a button. This process also makes it easier to update an entire document in case changes need to be made. For example, if you discover late in the analysis that data for one of the participants in an experiment needs to be removed, all figures and tables used in the analysis can be generated automatically and integrated into the final report easily.

This project was inspired by Rob Hyndman's blog post that can be found at http://robjhyndman.com/hyndsight/makefiles/.

Why use make instead of Sweave?
-------------------------------
I prefer to keep R and Latex as separate as possible. It seems like if you use Sweave, you have one of two options:

* Do your analysis in .R files, then copy and paste into Sweave. You now have to maintain the code in two places.
* Endure the overhead of doing your analysis directly in Sweave the first time.

Neither workflow appeals to me. Your mileage may vary.

Make is a standard tool that works well. The Makefile for this project has been created so that only a few lines at most would need to be updated for a new project.

Requirements
------------
I have only tested this on Windows. However, all of the tools should be available for Linux and OSX. You will need:

* R
* RStudio
* Miktex
* Ghostscript
* make (comes with the devtools package or many other sources)

Any fairly recent version of the software should work.

Ensure that Miktex, Ghostscript, and make are in your PATH in Windows. On my system, I've added these folders to the path:

* C:\Program Files (x86)\MiKTeX 2.9\miktex\bin\
* C:\Program Files (x86)\gs\gs9.04\bin
* C:\dev\Rtools\bin\

Technically, this project will work without RStudio. But, I think it's a great, lightweight IDE, so I will provide instructions assuming that you use it.

RStudio Project Conventions
---------------------------
The project is setup to keep the data, R scripts, figures, and tex files in separate folders. Also, instead of having all of the R code in a single .R file, the code is broken out into separate files based on functionality. This is good programming practice in general, and it allows the project to be built faster. For example, the data will only have to be read from disk once.

The root folder contains 3 subfolders. Here is what each folder should contain:

* ./ - All .R files go here.
* ./data/ - All data for the analysis goes here.
* ./figures/ - PDFs of plots go here.
* ./tex/ - The main paper.tex file is here, along with other .tex files generated by the .R scripts.

The following .R files are specified in the Makefile:

* load.R. Loads the data. Should be very short.
* clean.R. Performs any transformations needed on the data, such as factoring strings.
* functions.R. Functions used throughout the analysis should be stored here.
* main.R. This will NOT be compiled by the Makefile. Use this for running the analysis independent of make.

In addition, unlimited other .R files can be added to perform the analysis. They will be run in alphabetical order, so any dependencies between them would need to be added to the Makefile. For example, you might create the following files:

* regression.R
* kmeans.R

Quickstart
----------
* Ensure you have all of the requirements installed (R, RStudio, Miktex, Ghostscript, make).
* Ensure you have Miktex, Ghostscript, and make in your PATH environment variable.
* Open RLatexSampleProj.Rproj in RStudio
* On the menu, click Build > Configure Build Tools...
* In the "Project build tools:" dropdown, select "Makefile".
* The Makefile directory should be "(Project Root)".
* Click OK
* To build the project, from the menu click Build > Build All. All of the .R scripts will run as specified in the Makefile, and the PDF file /tex/paper.pdf will be generated.

Known Issues
------------

* There is a make warning about a circular dependency ("make: Circular load.Rout <- functions.Rout dependency dropped."). It seems to work fine, though.

Contact
-------
If you have any questions or feedback, feel free to contact me through github or email jim dot marquardson at gmail.
